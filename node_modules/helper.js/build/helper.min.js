!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("lodash"),require("jquery"),require("moment")):"function"==typeof define&&define.amd?define(["exports","lodash","jquery","moment"],t):t(n.helper=n.helper||{},n._,n.$,n.moment)}(this,function(n,t,e,r){"use strict";function i(n){return n?n.toString().toUpperCase():""}function o(n){return n?n.toString().toLowerCase():""}function a(n){return n.format=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L.YMD_FORMAT;return[this[0].format(n),this[1].format(n)]},n}function u(){return a([r(),r()])}function c(){var n=r(),t=r().endOf("week");return a([r().startOf("week"),t.isAfter(n)?n:t])}function s(){var n=r(),t=r().endOf("month");return a([r().startOf("month"),t.isAfter(n)?n:t])}function f(){var n=r(),t=r().endOf("year");return a([r().startOf("year"),t.isAfter(n)?n:t])}function d(){var n=r().subtract(1,"days");return a([n,n])}function l(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return a([r().subtract(n,"days"),r().subtract(1,"days")])}function m(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return a([r().subtract(n,"week").startOf("week"),r().subtract(1,"week").endOf("week")])}function h(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return a([r().subtract(n,"month").startOf("month"),r().subtract(1,"month").endOf("month")])}function g(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return a([r().subtract(n,"year").startOf("year"),r().subtract(1,"year").endOf("year")])}function v(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return a([r().subtract(n,"week"),r().subtract(1,"days")])}function y(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return a([r().subtract(n,"month"),r().subtract(1,"days")])}function b(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return a([r().subtract(n,"year"),r().subtract(1,"days")])}function p(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:L.YMD_FORMAT;return r(n).format(t)}t=t&&"default"in t?t.default:t,e=e&&"default"in e?e.default:e,r=r&&"default"in r?r.default:r;var w=function(){},A=function(n,t){return setTimeout(n,t||0)},O=function(n){n=n.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+n+"=([^&#]*)").exec(location.search);return null===t?null:decodeURIComponent(t[1].replace(/\+/g," "))},M=function(n,t){var e=location,r="";return r="me"===n?e.href:/^#/.test(n)?e.origin+e.pathname+n:n,t?window.open(r):e.href=r,e},k=function(n){var t="";for(var e in n)""!==t&&(t+="&"),t+=e+"="+encodeURIComponent(n[e]);return t},E=function(n,t){return t=t||void 0,n?"string"==typeof n?n?new Function("return "+n)():t:n:t},R={required:{message:function(){return"required"},validate:function(n,e){return!e||(t.isString(n)?!!t.trim(n):!t.isArray(n)&&!t.isObject(n)||t.size(n)>0)}},maxlength:{message:function(){return"maxlength"},validate:function(n,e){return t.isString(n)&&n.length<=e}},minlength:{message:function(){return"minlength"},validate:function(n,e){return t.isString(n)&&n.length>=e}},max:{message:function(){return"max"},validate:function(n,t){return R.number(n,!0)&&+n<=t}},min:{message:function(){return"min"},validate:function(n,t){return R.number(n,!0)&&+n>=t}},number:{message:function(){return"must number"},validate:function(n,t){return!t||/^\d+(\.\d+)?$/.test(n)}},digits:{message:function(){return"must digits"},validate:function(n,t){return!t||/^\d+$/.test(n)}},range:{message:function(n){return"Must be between "+n[0]+" and "+n[1]},validate:function(n,t){return n.length>=t[0]&&n.length<=t[1]}}},T=0,x=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w,r=e(document),i=(Array.isArray(n)?e.makeArray(n):[n]).map(function(n){return n&&n.jquery?n[0]:n}),o=i.length,a="mousedown.clickDocumentHide"+T++;return r.bind(a,function(n){for(var r=n.target,a=0,u=void 0,c=0;c<o&&(u=i[c],r!==u&&!e.contains(u,r));c++)a++;a===o&&t(n,u)}),function(){r.unbind(a)}},q=function(n){var t=null,r=!1,i=e(window),o={name:"scroll resize",init:!0,end:w,start:w,delay:50};return"function"==typeof n?o.end=n:o=Object.assign(o,n),i.on(o.name,function(n){clearTimeout(t),r||(r=!0,o.start.call(i,n)),t=A(function(){r=!1,o.end.call(i,n)},o.delay)}),o.init&&i.trigger(o.name.split(" ")[0]),function(){i.off(o.name)}},C=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.context,r=void 0===t?null:t,i=n.height,o=void 0===i?0:i,a=e(window),u=e(r);if(u.length){var c=function(){return document.documentElement.clientHeight+Math.max(document.documentElement.scrollTop,document.body.scrollTop)-o},s=function(){u.find("img[orgSrc]").each(function(){if(e(this).offset().top<=c()&&e(this).is(":visible")){var n=this.getAttribute("orgSrc");this.setAttribute("src",n),this.removeAttribute("orgSrc")}})};a.bind("lazyload",s),q("scroll.lazyload")}},D=function(n,t){var e="webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend";return n.one(e,t),function(){n.unbind(e)}},S=function(n,t){var e="webkitTransitionEnd oTransitionEnd transitionend";return n.one(e,t),function(){n.unbind(e)}},Y=function(n,t,e){var r=new Image;r.src=n,e&&r.setAttribute("crossOrigin","anonymous"),r.complete?t.call(r,!1):(r.onload=function(){t.call(r,!1)},r.onerror=function(){t.call(this,!0)},r.src=r.src)},j=function(n){var e={};return t.forEach(n,function(n,t){(n||0===parseInt(n))&&(e[t]=n)}),e},z=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return new Promise(function(r,i){var o=void 0;o=A(function(){if(clearTimeout(o),"function"==typeof n)try{r(n())}catch(n){i(n)}else e?r(n):i()},t||5e3*Math.random())})},_=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=Object.assign({list:[],count:n,originCount:n,isReady:!1,ready:function(){0==--e.count?(e.isReady=!0,e.list.forEach(function(n){return n.call(e)}),e.complete()):e.countdown(e.count)},exec:function(n){"function"==typeof n&&(e.isReady?n.call(e):e.list.push(n))},reset:function(n){e.list=[],n&&(e.originCount=n),e.count=e.originCount,e.isReady=!1},countdown:w,complete:w},t);return e},F=function(n){for(var t=n.length,e=void 0,r=void 0;t;)r=Math.floor(Math.random()*t--),e=n[t],n[t]=n[r],n[r]=e;return n},L={LOCAL_FORMAT:"LL",YMD_FORMAT:"YYYY-MM-DD"};n.noop=w,n.delay=A,n.queryString=O,n.go=M,n.paramsEncode=k,n.parseCode=E,n.validator=R,n.documentClick=x,n.lazyLoad=C,n.onAnimateEnd=D,n.onTransitionEnd=S,n.lazyResize=q,n.loadImage=Y,n.clearEmpty=j,n.wait=z,n.queuer=_,n.shuffle=F,n.uppercase=i,n.lowercase=o,n.DATE_FORMAT=L,n.toRangeArray=a,n.thisDay=u,n.thisWeek=c,n.thisMonth=s,n.thisYear=f,n.yesterday=d,n.lastDay=l,n.lastWeek=m,n.lastMonth=h,n.lastYear=g,n.nearlyWeek=v,n.nearlyMonth=y,n.nearlyYear=b,n.formatDate=p,Object.defineProperty(n,"__esModule",{value:!0})});